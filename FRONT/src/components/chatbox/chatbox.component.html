<div class="flex w-full h-screen bg-gray-900 text-white">
  <!-- Contenu Principal -->
  <div class="flex flex-col justify-between w-full">

    <!-- Affichage des messages -->
    <div class="flex flex-col overflow-auto px-4 py-6 gap-6 mt-24">
      <div *ngFor="let message of messages; let i = index" 
           class="flex gap-6 mb-4" 
           [ngClass]="message.sender === 'user' ? 'justify-end' : 'justify-start'">
        
        <div class="flex flex-col w-full">
          <!-- Nom de l'expéditeur (aligné à droite pour 'user') -->
          <h5 class="text-gray-300 text-sm font-semibold leading-snug pb-1"
              [ngClass]="message.sender === 'user' ? 'text-right' : 'text-left'">
            {{ message.sender === 'user' ? 'You' : 'AI' }}
          </h5>
          
          <!-- Bulle de message avec largeur adaptable et retour à la ligne si nécessaire -->
          <div class="px-4 py-4 break-words word-wrap rounded-lg shadow-md transition-all duration-300 w-auto max-w-[60%]" 
               [ngClass]="message.sender === 'user' ? 'bg-indigo-600 text-white ml-auto mr-16' : 'bg-gray-800 text-gray-300 ml-16 mr-auto'">
            <h5 class="text-base font-normal leading-snug">{{ message.text }}</h5>
          </div>
        </div>
      </div>
    </div>

    <!-- Champ d'input -->
    <div class="w-full px-6 py-3 rounded-3xl border border-gray-700 items-center gap-2 flex justify-between bg-gray-800 max-w-2xl mx-auto relative bottom-5 min-h-[60px]">
      <div class="flex items-center gap-2 w-full">
        <input [(ngModel)]="userMessage" 
               class="flex-grow text-white bg-gray-800 text-xs font-medium leading-4 focus:outline-none placeholder-gray-500 rounded-lg py-2 px-4"
               placeholder="Type here..." />
      </div>
      <div class="flex items-center gap-2">
        <button (click)="sendMessage()" 
                class="items-center flex px-4 py-2 bg-indigo-600 rounded-full shadow-md hover:bg-indigo-700 transition-colors">
          <h3 class="text-white text-xs font-semibold leading-4 px-2">Send</h3>
        </button>
      </div>
    </div>
  </div>
</div>
